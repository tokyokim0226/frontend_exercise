<!DOCTYPE html>
<html lang="en">
<head>
    
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Code Generator </title>
<link rel="stylesheet" href="styles.css">

</head>
<body>

<div class="container">
    <p>Enter your text or URL</p>
    <input type="text" placeholder="Text or URL" id="qrText">

    <div id="imgBox">
        <img src="" id = "qrImage">
    </div>

    <button onclick="generateQR()">Generate QR Code</button>
</div>


<script>

let imgBox = document.getElementById("imgBox");
let qrImage = document.getElementById("qrImage");
let qrText = document.getElementById("qrText");

// this part of the code makes it so that when the enter key is pressed WHILE the user is still in the input search box, the equivalent of pressing the "generate qr code" box will happen 

//added an EventListener specific to the search box that when a specific key is pressed down ("keydown"), ion this case, Enter, we will actuvate the function generateQR();
qrText.addEventListener("keydown", function (e) {
    if (e.code === "Enter") {
        generateQR();
    }
})

function generateQR(){
    if(qrText.value.length > 0){
        qrImage.src = "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" + qrText.value;
        imgBox.classList.add("show-img");
    }else {
        qrText.classList.add('error');
        setTimeout(()=>{
            qrText.classList.remove('error');
        },500)
    }
    
}

</script>
</body>
</html>