<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="container">
        <div class="turn-notifier">
            <p id="text">Player 1's Turn</p>
        </div>

    <div class="game">
        <div class="row row1">
            <div class="cell cell1"></div>
            <div class="cell cell2"></div>
            <div class="cell cell3"></div>
        </div>
        <div class="row row2">
            <div class="cell cell4"></div>
            <div class="cell cell5"></div>
            <div class="cell cell6"></div>
        </div>
        <div class="row row3">
            <div class="cell cell7"></div>
            <div class="cell cell8"></div>
            <div class="cell cell9"></div>
        </div>
    </div>
</div>

<script>

// Using querySelectorAll to select all the elements with the class 'cell' and putting them into a list
let cells = document.querySelectorAll('.cell');
let turn = 1;
let nonEmptyCount = 0;
let text = document.getElementById("text");

// Function to check if the game is over
function checkGameOver() {
    if (checkWinner("O")) {
        text.innerHTML = "Player 1 Wins"
    }
    else if (checkWinner("X")) {
        text.innerHTML = "Player 2 Wins"
    }
    else if (nonEmptyCount === 9) {
        text.innerHTML = "Game over";
    }
}

function checkWinner(symbol) {
    //checking for horizontal winners
    for (let i = 0; i<3 ;i++) {
        if (
            cells[i*3] == symbol &&
            cells[i*3 + 1] == symbol &&
            cells[i*3 + 2] == symbol
        ) {
            return True
        }
    }
    for (let i=0; i<3; i++) {
        if (
            cells[i*3] == symbol &&
            cells[i*3 + 3] == symbol &&
            cells[i*3 + 6] == symbol 
        ) {
            return True
        }
    }
    if (
        (cells[0].innerHTML === symbol &&
            cells[4].innerHTML === symbol &&
            cells[8].innerHTML === symbol) ||
        (cells[2].innerHTML === symbol &&
            cells[4].innerHTML === symbol &&
            cells[6].innerHTML === symbol)
    ) {
        return true;}
    return false;
    
}

for (let i = 0; i < cells.length; i++){
    cells[i].addEventListener('click', function() {
        let cell = this;
        if (cell.innerHTML !== ""){
            text.innerHTML = `Select empty Cell. Player ${turn}'s turn`
            return
        }
        if (turn === 1) {
            cell.innerHTML = "O"
            turn = 2;
            nonEmptyCount += 1;
            text.innerHTML = `Player ${turn}'s turn`

        }else {
            cell.innerHTML = "X"
            turn = 1;
            nonEmptyCount += 1;
            text.innerHTML = `Player ${turn}'s turn`
        }
        checkGameOver();
    })
}



</script>


</body>
</html>